<!DOCTYPE HTML>
<html lang="de">
<head>
<title>Menu - Syntax &amp; Verwendung | AutoHotkey</title>
<meta name="description" content="Der Menu-Befehl erstellt, löscht, ändert und zeigt Menüs und Menüpunkte an, ändert das Tray-Symbol und dessen Tooltip, oder kontrolliert, ob das Hauptfenster eines kompilierten Skripts geöffnet werden kann." />
<meta name="ahk:equiv-v2" content="lib/Menu.htm" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link href="../static/theme.css" rel="stylesheet" type="text/css" />
<script src="../static/content.js" type="text/javascript"></script>
<script src="../static/ga4.js" type="text/javascript"></script>
</head>
<body>

<h1>Menu</h1>

<p>Erstellt, löscht, ändert und zeigt Menüs und Menüpunkte. Ändert das Tray-Symbol und dessen Tooltip. Kontrolliert, ob das Hauptfenster eines <a href="../Scripts.htm#ahk2exe">kompilierten Skripts</a> geöffnet werden kann.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, <a href="#SubCommands">Unterbefehl</a> <span class="optional">, Wert1, Wert2, Wert3, Wert4</span></pre>
<p>Der <em>MenüName</em>-Parameter kann <code>Tray</code> oder der Name eines benutzerdefinierten Menüs sein. Ein benutzerdefiniertes Menü steht automatisch zur Verfügung, nachdem man das erste Mal den <a href="#Add">Add</a>-Unterbefehl in Verbindung mit dem Namen des Menüs verwendet hat. Zum Beispiel: <code>Menu, MeinMenü, Add, Menüpunkt1</code>. Einmal erstellt, kann ein benutzerdefiniertes Menü mit dem <a href="#Show">Show</a>-Unterbefehl angezeigt werden. Mit dem <a href="#Add">Add</a>-Unterbefehl kann es zudem als Untermenü an andere Menüs angefügt werden.</p>
<p>Die Parameter <em>Unterbefehl</em>, <em>Wert1</em>, <em>Wert2</em>, <em>Wert3</em> und <em>Wert4</em> sind voneinander abhängig und können wie folgt genutzt werden.</p>

<h2 id="toc">Inhaltsverzeichnis</h2>
<ul>
    <li><a href="#SubCommands">Unterbefehle</a></li>
    <li><a href="#MenuItemName">Der <em>MenüpunktName</em>-Parameter</a></li>
    <li><a href="#Win32_Menus">Win32-Menüs</a></li>
    <li><a href="#Remarks">Bemerkungen</a></li>
    <li><a href="#Related">Siehe auch</a></li>
    <li><a href="#Examples">Beispiele</a></li>
</ul>

<h2 id="SubCommands">Unterbefehle</h2>
<p>Geben Sie für <em>Unterbefehl</em> Folgendes an:</p>
<ul>
    <li><a href="#Add">Add</a>: Fügt einen Menüpunkt hinzu, aktualisiert einen Menüpunkt mit einem neuen Untermenü oder Label, oder wandelt einen normalen Menüpunkt in ein Untermenü um (oder umgekehrt).</li>
    <li><a href="#Insert">Insert</a> <span class="ver">[v1.1.23+]</span>: Fügt einen neuen Menüpunkt vor einem bestimmten Menüpunkt ein.</li>
    <li><a href="#Delete">Delete</a>: Entfernt einen bestimmten Menüpunkt aus dem Menü.</li>
    <li><a href="#DeleteAll">DeleteAll</a>: Entfernt alle benutzerdefinierten Menüpunkte aus dem Menü.</li>
    <li><a href="#Rename">Rename</a>: Benennt einen bestimmten Menüpunkt um.</li>
    <li><a href="#Check">Check</a>: Setzt ein sichtbares Häkchen neben einem bestimmten Menüpunkt.</li>
    <li><a href="#Uncheck">Uncheck</a>: Entfernt das Häkchen von einem bestimmten Menüpunkt.</li>
    <li><a href="#ToggleCheck">ToggleCheck</a>: Setzt ein sichtbares Häkchen neben einem bestimmten Menüpunkt; wenn es schon gesetzt ist, wird es wieder entfernt.</li>
    <li><a href="#Enable">Enable</a>: Aktiviert die Interaktion mit einem bestimmten Menüpunkt, falls sie zuvor deaktiviert wurde.</li>
    <li><a href="#Disable">Disable</a>: Deaktiviert die Interaktion mit einem bestimmten Menüpunkt.</li>
    <li><a href="#ToggleEnable">ToggleEnable</a>: Deaktiviert die Interaktion mit einem bestimmten Menüpunkt; ansonsten wird sie wieder aktiviert.</li>
    <li><a href="#Default">Default</a>: Macht einen bestimmten Menüpunkt zum Standard-Menüpunkt und stellt ihn in fetter Schrift dar.</li>
    <li><a href="#NoDefault">NoDefault</a>: Macht das Setzen eines benutzerdefinierten Standard-Menüpunkts rückgängig.</li>
    <li><a href="#Standard">Standard</a>: Fügt die voreingestellten Menüpunkte an das untere Ende des Menüs ein.</li>
    <li><a href="#NoStandard">NoStandard</a>: Entfernt alle voreingestellten Menüpunkte aus dem Menü.</li>
    <li><a href="#Icon">Icon</a>: Ändert das Tray-Symbol des Skripts oder <span class="ver">[in AHK_L 17+]</span> setzt ein Symbol für einen bestimmten Menüpunkt.</li>
    <li><a href="#NoIcon">NoIcon</a>: Entfernt das Tray-Symbol oder <span class="ver">[in AHK_L 17+]</span> entfernt das Symbol von einem bestimmten Menüpunkt.</li>
    <li><a href="#Tip">Tip</a>: Ändert den Tooltip des Tray-Symbols.</li>
    <li><a href="#Show">Show</a>: Zeigt ein bestimmtes Menü an.</li>
    <li><a href="#Color">Color</a>: Ändert die Hintergrundfarbe des Menüs.</li>
    <li><a href="#Click">Click</a>: Bestimmt die Anzahl der Klicks auf das Tray-Symbol, die zum Auslösen des Standard-Menüpunkts notwendig sind.</li>
    <li><a href="#MainWindow">MainWindow</a>: Aktiviert die Möglichkeit, das Hauptfenster eines Skripts über das Tray-Symbol zu öffnen.</li>
    <li><a href="#NoMainWindow">NoMainWindow</a>: Verhindert, dass das Hauptfenster über das Tray-Symbol geöffnet werden kann.</li>
    <li><a href="#UseErrorLevel">UseErrorLevel</a>: Überspringt jegliche Warndialogfenster und Thread-Terminierungen, wann immer der Menu-Befehl einen Fehler erzeugt.</li>
</ul>

<h3 id="Add">Add</h3>
<p>Fügt einen Menüpunkt hinzu, aktualisiert einen Menüpunkt mit einem neuen Untermenü oder Label, oder wandelt einen normalen Menüpunkt in ein Untermenü um (oder umgekehrt).</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, Add <span class="optional">, MenüpunktName, LabelOderUntermenü, Optionen</span></pre>
<p>Dieser Unterbefehl ist für mehrere Zwecke gedacht. <em>MenüpunktName</em> ist der Name oder die Position eines Menüpunkts (siehe <a href="#MenuItemName">MenüpunktName</a>, um mehr zu erfahren). Wenn <em>MenüpunktName</em> noch nicht existiert, wird er in das Menü eingefügt. Ansonsten wird <em>MenüpunktName</em> mit dem neu angegebenen <em>LabelOderUntermenü</em> aktualisiert.</p>
<p>Um eine Trennlinie in das Menü einzufügen, lassen Sie alle drei Parameter weg.</p>
<p>Die Label-Subroutine wird als neuer <a href="../misc/Threads.htm">Thread</a> gestartet, wenn der Benutzer den Menüpunkt anklickt (vergleichbar mit <a href="Gosub.htm">Gosub</a> und <a href="../Hotkeys.htm">Hotkey-Subroutinen</a>). Lässt man <em>LabelOderUntermenü</em> weg, wird <em>MenüpunktName</em> sowohl als Labelname als auch als Menüpunktname verwendet.</p>
<p id="Functor"><span class="ver">[v1.1.20+]:</span> Wenn es nicht der Name eines vorhandenen Labels ist, kann <em>LabelOderUntermenü</em> der Name einer Funktion sein, oder eine einzelne Variablenreferenz mit einem <a href="../misc/Functor.htm">Funktionsobjekt</a>. Zum Beispiel <code>%FunkObj%</code> oder <code>% FunkObj</code>. Ein voll funktionsfähiges Beispiel finden Sie unter <a href="#ExBoundFunc">Beispiel #5</a>. Andere Ausdrücke, die Objekte zurückgeben, werden zurzeit nicht unterstützt. Optional kann die Funktion wie folgt Parameter definieren:</p>
<pre><i>FunktionName</i>(PunktName, PunktPos, MenüName)</pre>
<p>Wenn <em>MenüpunktName</em> ein Untermenü werden soll - also ein Menüpunkt, der ein neues Menü öffnet - muss in <em>LabelOderUntermenü</em> ein Doppelpunkt und der <em>MenüName</em> eines vorhandenen benutzerdefinierten Menüs angegeben werden. Zum Beispiel:</p>
<pre>Menu, MeinUntermenü, Add, Menüpunkt1
Menu, Tray, Add, Dieser Menüpunkt ist ein Untermenü, :MeinUntermenü</pre>
<p>Sofern vorhanden, muss <em>Optionen</em> eine Liste mit einer oder mehreren Optionen sein, die jeweils mit einem Leer- oder Tabulatorzeichen voneinander getrennt sind:</p>
<table class="info">
    <tr>
      <th>Option</th>
      <th abbr="Beschr">Beschreibung</th>
    </tr>
    <tr>
        <td>P<em>n</em></td>
        <td>Ersetzen Sie <em>n</em> mit der <a href="../misc/Threads.htm">Thread-Priorität</a> des Menüpunktes, z. B. <code>P1</code>. Lässt man diese Option beim Hinzufügen eines Menüpunktes weg, wird standardmäßig eine Priorität von 0 verwendet. Lässt man diese Option beim Ändern eines Menüpunktes weg, bleibt die Priorität des Menüpunktes unverändert. Verwenden Sie eine dezimale (nicht hexadezimale) Zahl als Priorität.</td>
    </tr>
    <tr>
        <td>+Radio</td>
        <td><span class="ver">[v1.1.23+]:</span> Verwendet zum Abhaken des Menüpunktes einen kleinen Kreis anstelle eines Häkchens.</td>
    </tr>
    <tr>
        <td>+Right</td>
        <td><span class="ver">[v1.1.23+]:</span> Der Menüpunkt ist innerhalb der Menüleiste rechtsbündig. Diese Option funktioniert nur bei <a href="Gui.htm#Menu">Menüleisten</a>, nicht bei Popup-Menüs oder Untermenüs.</td>
    </tr>
    <tr>
        <td>+Break</td>
        <td><span class="ver">[v1.1.23+]:</span> Der Menüpunkt beginnt eine neue Spalte in einem Popup-Menü.</td>
    </tr>
    <tr>
        <td>+BarBreak</td>
        <td><span class="ver">[v1.1.23+]:</span> Das gleiche wie oben, aber mit Trennlinien zwischen den Spalten.</td>
    </tr>
</table>
<p>Das Pluszeichen (+) ist optional und kann mit einem Minuszeichen (-) ersetzt werden, um die Option zu entfernen, wie z. B. <code>-Radio</code>. Optionen sind nicht Groß-/Kleinschreibung-sensitiv.</p>
<p>Wenn der <em>LabelOderUntermenü</em>-Parameter weggelassen wird, können die Optionen eines vorhandenen Menüpunktes geändert werden, ohne dessen Label oder Untermenü zu beeinflussen.</p>

<h3 id="Insert">Insert <span class="ver">[v1.1.23+]</span></h3>
<p>Fügt einen neuen Menüpunkt vor einem bestimmten Menüpunkt ein.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, Insert <span class="optional">, MenüpunktName, EinzufügenderPunkt, LabelOderUntermenü, Optionen</span></pre>
<p>Die Verwendung ist identisch zum <a href="#Add">Add</a>-Unterbefehl oben, außer dass <em>MenüpunktName</em> immer der Name oder die Position eines existierenden Menüpunkts (siehe <a href="#MenuItemName">MenüpunktName</a>, um mehr zu erfahren) ist und dass <em>EinzufügenderPunkt</em> der Name eines neuen Menüpunkts ist, der vor <em>MenüpunktName</em> eingefügt werden soll. Menüpunkte kann man auch anfügen, indem man <em>MenüpunktName</em> weglässt (also wenn man zwei aufeinanderfolgende Kommas schreibt). Im Gegensatz zum <a href="#Add">Add</a>-Unterbefehl erstellt der Insert-Unterbefehl immer einen neuen Menüpunkt, egal ob <em>MenüpunktName</em> bereits als Menüpunkt existiert.</p>

<h3 id="Delete">Delete</h3>
<p>Entfernt einen bestimmten Menüpunkt aus dem Menü.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, Delete <span class="optional">, MenüpunktName</span></pre>
<p><em>MenüpunktName</em> ist der Name oder die Position eines Menüpunkts (siehe <a href="#MenuItemName">MenüpunktName</a>, um mehr zu erfahren). Voreingestellte Menüpunkte wie "Exit" (siehe unten) können nicht einzeln gelöscht werden. Den <em>Standard</em>-Menüpunkt mit diesem Unterbefehl zu entfernen hat denselben Effekt wie, als hätte man den <a href="#NoDefault">NoDefault</a>-Unterbefehl verwendet.</p>
<p>Lässt man <em>MenüpunktName</em> weg, wird das gesamte <em>MenüName</em>-Menü gelöscht, sowie alle Menüpunkte in anderen Menüs, die <em>MenüName</em> als Untermenü verwenden. Das Löschen eines Menüs bewirkt zudem, dass das aktuelle <a href="#Win32_Menus">Win32-Menü</a> all seiner Untermenüs zerstört wird, um später bei Bedarf neu erstellt werden zu können. Andere Menüs, die solche Untermenüs enthalten, könnten ebenfalls davon betroffen sein. Um das zu vermeiden, löschen Sie die Menüpunkte mit <a href="#DeleteAll">DeleteAll</a>, bevor Sie das Menü selbst löschen.</p>

<h3 id="DeleteAll">DeleteAll</h3>
<p>Entfernt alle benutzerdefinierten Menüpunkte aus dem Menü.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, DeleteAll</pre>
<p>Eventuell vorhandene <em>voreingestellte</em> Menüpunkte (siehe unten) bleiben unberührt. Im Gegensatz zu einem gelöschten Menü via <a href="#Delete">Delete</a>-Unterbefehl (siehe oben), bleibt ein leeres Menü weiterhin bestehen; andere Menüs, die dieses leere Menü als Untermenü verwenden, werden demzufolge solche Untermenüs beibehalten.</p>

<h3 id="Rename">Rename</h3>
<p>Benennt einen bestimmten Menüpunkt in <em>NeuerName</em> um.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, Rename, MenüpunktName <span class="optional">, NeuerName</span></pre>
<p>Wenn <em>NeuerName</em> leer ist, wird der angegebene Menüpunkt in eine Trennlinie umgewandelt. <em>MenüpunktName</em> ist der Name oder die Position eines Menüpunkts (siehe <a href="#MenuItemName">MenüpunktName</a>, um mehr zu erfahren). Das aktuelle Ziel-Label oder Untermenü des Menüpunkts bleibt unverändert. <span class="ver">[v1.1.23+]:</span> Eine Trennlinie kann man in einen normalen Menüpunkt umwandeln, indem man die Position&amp; der Trennlinie und einen nicht-leeren <em>NeuerName</em> angibt, und dann den <a href="#Add">Add</a>-Unterbefehl verwendet, um dem Menüpunkt ein Label oder Untermenü zu geben.</p>

<h3 id="Check">Check</h3>
<p>Setzt ein sichtbares Häkchen neben einem bestimmten Menüpunkt (wenn es noch nicht da ist).</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, Check, MenüpunktName</pre>
<p><em>MenüpunktName</em> ist der Name oder die Position eines Menüpunkts (siehe <a href="#MenuItemName">MenüpunktName</a>, um mehr zu erfahren).</p>

<h3 id="Uncheck">Uncheck</h3>
<p>Entfernt das Häkchen (sofern vorhanden) von einem bestimmten Menüpunkt.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, Uncheck, MenüpunktName</pre>
<p><em>MenüpunktName</em> ist der Name oder die Position eines Menüpunkts (siehe <a href="#MenuItemName">MenüpunktName</a>, um mehr zu erfahren).</p>

<h3 id="ToggleCheck">ToggleCheck</h3>
<p>Setzt ein sichtbares Häkchen neben einem bestimmten Menüpunkt; wenn es schon gesetzt ist, wird es wieder entfernt.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, ToggleCheck, MenüpunktName</pre>
<p><em>MenüpunktName</em> ist der Name oder die Position eines Menüpunkts (siehe <a href="#MenuItemName">MenüpunktName</a>, um mehr zu erfahren).</p>

<h3 id="Enable">Enable</h3>
<p>Erlaubt dem Benutzer, einen bestimmten Menüpunkt wieder anzuklicken, falls er zuvor deaktiviert (ergraut) war.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, Enable, MenüpunktName</pre>
<p><em>MenüpunktName</em> ist der Name oder die Position eines Menüpunkts (siehe <a href="#MenuItemName">MenüpunktName</a>, um mehr zu erfahren).</p>

<h3 id="Disable">Disable</h3>
<p>Zeigt einen bestimmten Menüpunkt in einer grauen Farbe an, um kenntlich zu machen, dass der Benutzer ihn nicht anklicken kann.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, Disable, MenüpunktName</pre>
<p><em>MenüpunktName</em> ist der Name oder die Position eines Menüpunkts (siehe <a href="#MenuItemName">MenüpunktName</a>, um mehr zu erfahren).</p>

<h3 id="ToggleEnable">ToggleEnable</h3>
<p>Deaktiviert die Interaktion mit einem bestimmten Menüpunkt; wenn sie bereits deaktiviert ist, wird sie wieder aktiviert.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, ToggleEnable, MenüpunktName</pre>
<p><em>MenüpunktName</em> ist der Name oder die Position eines Menüpunkts (siehe <a href="#MenuItemName">MenüpunktName</a>, um mehr zu erfahren).</p>

<h3 id="Default">Default</h3>
<p>Macht einen bestimmten Menüpunkt zum Standard-Menüpunkt und stellt ihn in fetter Schrift dar.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, Default <span class="optional">, MenüpunktName</span></pre>
<p>In einem Menü, das nicht TRAY ist, ist das Setzen des Standard-Menüpunkts rein kosmetischer Natur. <em>MenüpunktName</em> ist der Name oder die Position eines Menüpunkts (siehe <a href="#MenuItemName">MenüpunktName</a>, um mehr zu erfahren). Wenn der Benutzer das Tray-Symbol doppelt anklickt, wird der Standard-Menüpunkt gestartet. Wenn es keinen Standard-Menüpunkt gibt, hat ein Doppelklick keine Wirkung. Lässt man <em>MenüpunktName</em> weg, erreicht man denselben Effekt wie, als hätte man den <a href="#NoDefault">NoDefault</a>-Unterbefehl unten verwendet.</p>

<h3 id="NoDefault">NoDefault</h3>
<p>Macht das Setzen eines benutzerdefinierten Standard-Menüpunkts rückgängig.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, NoDefault</pre>
<p>Beim Tray-Menü: Stellt den voreingestellten Standard-Menüpunkt wieder her - bei unkompilierten Skripten ist das OPEN und bei <a href="../Scripts.htm#ahk2exe">kompilierten Skripten</a> nichts (außer wenn der <a href="#MainWindow">MainWindow</a>-Unterbefehl aktiv ist). Wenn der OPEN-Menüpunkt durch vorheriges Verwenden des <a href="#NoStandard">NoStandard</a>-Unterbefehls nicht vorhanden ist, wird es keinen Standard-Menüpunkt geben; ein Doppelklick auf das Tray-Symbol wird demzufolge keine Wirkung haben. Bei Menüs, die nicht TRAY sind: Alle vorhandenen Standard-Menüpunkte werden nicht mehr in fetter Schrift dargestellt.</p>

<h3 id="Standard">Standard</h3>
<p>Fügt die voreingestellten Menüpunkte an das untere Ende des Menüs ein (sofern sie nicht bereits vorhanden sind).</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, Standard</pre>
<p>Dieser Unterbefehl kann in Verbindung mit einem Tray-Menü oder jedem anderen Menü verwendet werden.</p>

<h3 id="NoStandard">NoStandard</h3>
<p>Entfernt alle voreingestellten (nicht benutzerdefinierten) Menüpunkte aus dem Tray-Menü (sofern sie vorhanden sind).</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, NoStandard</pre>
<p>Dieser Unterbefehl kann in Verbindung mit einem Tray-Menü oder jedem anderen Menü verwendet werden.</p>

<h3 id="Icon">Icon</h3>
<p>Beeinflusst je nach folgender Syntaxnutzung das <a href="#TrayIcon">Tray-Symbol</a> oder <span class="ver">[in AHK_L 17+]</span> das <a href="#MenuIcon">Symbol des Menüpunkts</a>.</p>

<h4 id="TrayIcon">Setzen des Tray-Symbols</h4>
<p>Ersetzt das <a href="../Program.htm#tray-icon">Tray-Symbol</a> des Skripts mit eines der Symbole aus <em>DateiName</em>.</p>
<pre class="Syntax"><span class="func">Menu</span>, Tray, Icon <span class="optional">, DateiName, SymbolNummer, 1</span></pre>
<p>Folgende Dateitypen werden unterstützt: ICO, CUR, ANI, EXE, DLL, CPL, SCR und andere Typen, die Symbolressourcen enthalten. Um anstelle der ersten Symbolgruppe eine andere in der Datei zu nutzen, geben Sie für <em>SymbolNummer</em> die entsprechende Nummer an (lässt man diesen Parameter weg, wird standardmäßig 1 verwendet). Zum Beispiel würde <strong>2</strong> das Standardsymbol aus der zweiten Symbolgruppe laden. Wenn <em>SymbolNummer</em> negativ ist, wird dessen absoluter Wert als Ressourcen-ID eines Symbols innerhalb einer ausführbaren Datei vermutet. Fügen Sie ein Sternchen (*) in <em>DateiName</em> ein, um das Standardsymbol wiederherzustellen.</p>
<p>Der letzte Parameter: Geben Sie eine 1 im letzten Parameter an, um das Symbol einzufrieren, oder eine 0, um es wieder freizugeben (oder lassen Sie den Parameter leer, um den eingefrorenen/freigegebenen Zustand unverändert zu lassen). Wenn das Symbol eingefroren wurde, kann es nicht von <a href="Pause.htm">Pause</a> und <a href="Suspend.htm">Suspend</a> geändert werden. Hinweis: Das folgende Beispiel zeigt, wie man mit einer 1 oder 0 das <em>aktuelle</em> Symbol einfrieren oder freigeben kann: <code>Menu, Tray, Icon,,, 1</code>.</p>
<p>Das Ändern des Tray-Symbols ändert auch das angezeigte Symbol in <a href="InputBox.htm">InputBox</a>, <a href="Progress.htm">Progress</a> und danach erstellte <a href="Gui.htm">GUI</a>-Fenster. <a href="../Scripts.htm#ahk2exe">Kompilierte Skripte</a> sind davon auch betroffen, selbst wenn ein benutzerdefiniertes Symbol beim Kompilieren angegeben wurde.</p>
<p class="note"><strong>Hinweis:</strong> Das Ändern des Symbols wird das Tray-Symbol nicht sichtbar machen, wenn es zuvor mit Mitteln wie <a href="_NoTrayIcon.htm">#NoTrayIcon</a> versteckt wurde; um das zu tun, verwendet man <code>Menu, Tray, Icon</code> (ohne Parameter).</p>
<p id="distort">Es können leichte Verformungen auftreten, wenn Tray-Symbole aus Dateitypen geladen werden, die keine ICO-Dateien sind. Dieses Problem gilt besonders bei 16x16-Symbolen. Um das zu verhindern, speichern Sie das gewünschte Tray-Symbol in eine ICO-Datei.</p>
<p>Es gibt einige Symbole innerhalb der DLL- und CPL-Systemdateien, die nützlich sein könnten. Zum Beispiel: <code>Menu, Tray, Icon, Shell32.dll, 174</code>.</p>
<p>Die internen Variablen <strong>A_IconNumber</strong> und <strong>A_IconFile</strong> enthalten die Nummer und Namen (mit vollständigem Pfad) des aktuellen Symbols (beide sind leer, wenn das Standardsymbol verwendet wird).</p>
<p><span class="ver">[v1.1.23+]:</span> Anstelle eines Dateinamens kann auch ein <a href="../misc/ImageHandles.htm">Icon-Handle (HICON)</a> verwendet werden. Zum Beispiel <code>Menu Tray, Icon, HICON:*%Handle%</code>. Das Sternchen ist erforderlich, da das Symbol zweimal "geladen" werden muss: einmal für das kleine Symbol und einmal für das große Symbol.</p>
<p><span class="ver">[v1.1.27+]:</span> Nicht-Symbol-Bilder und <a href="../misc/ImageHandles.htm">Bitmap-Handles (HBITMAP)</a> werden für <em>DateiName</em> unterstützt. Zum Beispiel <code>Menu Tray, Icon, HBITMAP:*%Handle%</code>.</p>

<h4 id="MenuIcon">Setzen eines Menüpunktsymbols <span class="ver">[AHK_L 17+]</span></h4>
<p>Setzt ein Symbol für einen bestimmten Menüpunkt.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, Icon, MenüpunktName, DateiName <span class="optional">, SymbolNummer, SymbolBreite</span></pre>
<p><em>MenüpunktName</em> ist der Name oder die Position eines Menüpunkts (siehe <a href="#MenuItemName">MenüpunktName</a>, um mehr zu erfahren). <em>DateiName</em> kann entweder eine Symboldatei sein, oder ein Bild in einem Format, das von AutoHotkey unterstützt wird. Um anstelle der ersten Symbolgruppe eine andere in der Datei zu nutzen, geben Sie für <em>SymbolNummer</em> die entsprechende Nummer an (lässt man diesen Parameter weg, wird standardmäßig 1 verwendet). Wenn <em>SymbolNummer</em> negativ ist, wird der absolute Wert dieser Nummer als Ressourcen-ID eines Symbols innerhalb einer ausführbaren Datei vermutet. Fügen Sie die gewünschte Breite des Symbols in <em>SymbolBreite</em> ein. Wenn die angegebene Symbolgruppe in <em>SymbolNummer</em> mehrere Symbolgrößen enthält, wird das Symbol auf die naheliegendste Größe skaliert. In <a href="#ExIcon">Beispiel #4</a> finden Sie Anwendungsbeispiele.</p>
<p>Derzeit ist es notwendig, die tatsächliche Größe anzugeben, wenn die Transparenz des Symbols in Windows Vista oder höher erhalten bleiben soll. Zum Beispiel:</p>
<pre>Menu, <i>MenüName</i>, Icon, <i>MenüpunktName</i>, Dateiname.png,, 0</pre>
<p>Bekannte Einschränkung: In Windows XP und höher werden Symbole auf GUI-Menüleisten falsch positioniert.</p>
<p><span class="ver">[v1.1.23+]:</span> Anstelle eines Dateinamens kann auch ein <a href="../misc/ImageHandles.htm">Bitmap- oder Symbol-Handle</a> verwendet werden. Zum Beispiel <code>HBITMAP:%handle%</code>.</p>


<h3 id="NoIcon">NoIcon</h3>
<p>Beeinflusst je nach folgender Syntaxnutzung das <a href="#RemoveTrayIcon">Tray-Symbol</a> oder <span class="ver">[in AHK_L 17+]</span> das <a href="#RemoveMenuIcon">Symbol des Menüpunkts</a>.</p>

<h4 id="RemoveTrayIcon">Entfernen des Tray-Symbols</h4>
<p>Entfernt das Tray-Symbol, sofern vorhanden.</p>
<pre class="Syntax"><span class="func">Menu</span>, Tray, NoIcon</pre>
<p>Verwendet man diesen Unterbefehl ganz oben im Skript, könnte das Tray-Symbol beim Starten des Skripts kurz sichtbar sein. Um das zu verhindern, können Sie stattdessen <a href="_NoTrayIcon.htm">#NoTrayIcon</a> verwenden. Die interne Variable <strong>A_IconHidden</strong> enthält eine 1, wenn das Tray-Symbol zurzeit versteckt ist, oder ansonsten eine 0.</p>

<h4 id="RemoveMenuIcon">Entfernen eines Menüpunktsymbols <span class="ver">[AHK_L 17+]</span></h4>
<p>Entfernt das Symbol von einem bestimmten Menüpunkt, falls vorhanden.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, NoIcon, MenüpunktName</pre>
<p><em>MenüpunktName</em> ist der Name oder die Position eines Menüpunkts (siehe <a href="#MenuItemName">MenüpunktName</a>, um mehr zu erfahren).</p>

<h3 id="Tip">Tip</h3>
<p>Ändert den Tooltip des Tray-Symbols.</p>
<pre class="Syntax"><span class="func">Menu</span>, Tray, Tip <span class="optional">, Text</span></pre>
<p>Der Tooltip des Tray-Symbols wird angezeigt, wenn sich der Mauszeiger darüber befindet. Um einen Tooltip mehrzeilig zu machen, trennen Sie jede Zeile mit einem Zeilenumbruchszeichen (`n), z. B. Zeile1`nZeile2. Es werden nur die ersten 127 Zeichen des <em>Text</em>-Parameters angezeigt, außerdem wird der <em>Text</em> beim ersten Tabulatorzeichen, falls vorhanden, abgeschnitten. Lässt man <em>Text</em> weg, wird der Standardtext des Tooltips wiederhergestellt. Die interne Variable <strong>A_IconTip</strong> enthält den aktuellen Text des Tooltips (sie ist leer, wenn der Standardtext verwendet wird).</p>

<h3 id="Show">Show</h3>
<p>Zeigt <em>MenüName</em> an.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, Show <span class="optional">, X, Y</span></pre>
<p>Der Benutzer kann ein Menüpunkt mit Pfeiltasten, Tastaturkurzbefehlen (unterstrichene Buchstaben) oder mit dem Mauszeiger auswählen. Mit Ausnahme der <a href="Gui.htm">GUI</a>-Menüleiste kann jedes Menü, einschließlich des Tray-Menüs, angezeigt werden. Lässt man sowohl X als auch Y weg, wird das Menü bei der aktuellen Position des Mauszeigers angezeigt. Lässt man nur eine dieser Koordinaten weg, wird stattdessen die Position des Mauszeigers verwendet. Die Koordinaten sind relativ zum aktiven Fenster. Verwenden Sie davor <code><a href="CoordMode.htm">CoordMode</a>, Menu</code>, um sie relativ zum ganzen Bildschirm zu machen.</p>

<h3 id="Color">Color</h3>
<p>Setzt die Hintergrundfarbe des Menüs auf den angegebenen <em>FarbeWert</em>.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, Color, FarbeWert <span class="optional">, Single</span></pre>
<p><em>FarbeWert</em> ist entweder einer der 16 primären HTML-Farbnamen oder ein 6-stelliger RGB-Wert (siehe <a href="Progress.htm#colors">Farbentabelle</a>). Lassen Sie den <em>FarbeWert</em>-Parameter leer (oder verwenden Sie das Wort Default), um die Standardfarbe des Menüs wiederherzustellen. Fehlt das Wort Single im nächsten Parameter, werden auch die Hintergrundfarben seiner Untermenüs geändert.</p>

<h3 id="Click">Click</h3>
<p>Bestimmt die Anzahl der Klicks auf das Tray-Symbol, die zum Auslösen des Standard-Menüpunkts notwendig sind.</p>
<pre class="Syntax"><span class="func">Menu</span>, Tray, Click, KlicksAnzahl</pre>
<p>Fügen Sie eine 1 in <em>KlicksAnzahl</em> ein, damit der Standard-Menüpunkt des Tray-Menüs mit einem einzigen Klick aktiviert werden kann. Fügen Sie eine 2 in <em>KlicksAnzahl</em> ein, um das Standardverhalten wiederherzustellen (Doppelklick). Zum Beispiel: <code>Menu, Tray, Click, 1</code>.</p>

<h3 id="MainWindow">MainWindow</h3>
<p>Aktiviert die Möglichkeit, das <a href="../Program.htm#main-window">Hauptfenster</a> eines Skripts über das Tray-Symbol zu öffnen, was bei <a href="../Scripts.htm#ahk2exe">kompilierten</a> oder <a href="../Program.htm#embedded-scripts">eingebetteten</a> Skripten standardmäßig nicht möglich ist.</p>
<pre class="Syntax"><span class="func">Menu</span>, Tray, MainWindow</pre>
<p>Dieser Unterbefehl stellt den Menüpunkt "Open" im Tray-Menü wieder her, sofern nicht der <a href="#NoStandard">NoStandard</a>-Unterbefehl verwendet wurde. Er aktiviert außerdem die Menüpunkte im View-Menü des Hauptfensters, wie z. B. "Lines most recently executed", das den Quellcode des Skripts und andere Informationen anzeigt.</p>
<p>Dieser Modus wird standardmäßig für Skripte verwendet, die weder <a href="../Scripts.htm#ahk2exe">kompiliert</a> noch <a href="../Program.htm#embedded-scripts">eingebettet</a> sind.</p>

<h3 id="NoMainWindow">NoMainWindow</h3>
<p>Verhindert, dass das <a href="../Program.htm#main-window">Hauptfenster</a> über das Tray-Symbol geöffnet werden kann.</p>
<pre class="Syntax"><span class="func">Menu</span>, Tray, NoMainWindow</pre>
<p>Dieser Unterbefehl entfernt den Standardmenüpunkt "Open" aus dem Tray-Menü. Er deaktiviert außerdem die Menüpunkte im View-Menü des Hauptfensters, wie z. B. "Lines most recently executed". Die folgenden Befehle sind jedoch weiterhin in der Lage, das Hauptfenster zu öffnen und die entsprechenden View-Optionen zu aktivieren, sofern sie beim Ausführen des Skripts erreicht werden: <a href="ListLines.htm">ListLines</a>, <a href="ListVars.htm">ListVars</a>, <a href="ListHotkeys.htm">ListHotkeys</a> und <a href="KeyHistory.htm">KeyHistory</a>.</p>
<p>Dieser Unterbefehl verhindert nicht, dass das Hauptfenster von <a href="WinShow.htm">WinShow</a> angezeigt oder von <a href="ControlGetText.htm">ControlGetText</a> oder ähnlichen Methoden untersucht wird, aber er verhindert, dass der Quellcode des Skripts und andere Informationen via Hauptfenster preisgegeben werden, außer wenn einer der oben aufgeführten Befehle vom Skript aufgerufen wird.</p>
<p>Dieser Modus wird standardmäßig für Skripte verwendet, die <a href="../Scripts.htm#ahk2exe">kompiliert</a> oder <a href="../Program.htm#embedded-scripts">eingebettet</a> sind.</p>
<p><span class="ver">[v1.1.34+]:</span> Dieser Unterbefehl kann auch in einem unkompilierten Skript verwendet werden.</p>

<h3 id="UseErrorLevel">UseErrorLevel</h3>
<p>Überspringt jegliche Warndialogfenster und Thread-Terminierungen, wann immer der Menu-Befehl einen Fehler erzeugt.</p>
<pre class="Syntax"><span class="func">Menu</span>, MenüName, UseErrorLevel <span class="optional">, Off</span></pre>
<p>Wenn diese Option nicht im Skript angegeben ist, wird standardmäßig OFF verwendet. Die OFF-Einstellung zeigt ein Dialogfenster an und terminiert den <a href="../misc/Threads.htm">aktuellen Thread</a>, wann immer der Menu-Befehl einen Fehler erzeugt. Geben Sie <code>Menu, Tray, UseErrorLevel</code> an, um das Dialogfenster und die Terminierung des Threads zu verhindern; stattdessen wird <a href="../misc/ErrorLevel.htm">ErrorLevel</a> bei Misserfolg auf 1 und bei Erfolg auf 0 gesetzt. Um diese Option wieder auszuschalten, fügen Sie OFF (oder 0 in <span class="ver">[v1.1.30+]</span>) im nächsten Parameter ein. Diese Einstellung ist global - das heißt, dass sie alle Menüs beeinflusst, nicht nur <em>MenüName</em>.</p>


<h2 id="MenuItemName">Der <em>MenüpunktName</em>-Parameter</h2>
<p>Name oder Position eines Menüpunkts. Es gelten einige allgemeine Regeln für diesen Parameter, der bei vielen Unterbefehlen zu finden ist:</p>
<ul>
    <li>Um einen Buchstaben im Namen eines Menüpunktnamens zu unterstreichen, muss ein Und-Zeichen (&amp;) davorgesetzt werden. Sobald das Menü angezeigt wird, kann man so ein Menüpunkt durch Drücken der entsprechenden Taste aktivieren. Geben Sie zwei aufeinanderfolgende Und-Zeichen an, um ein direkt geschriebenes Und-Zeichen anzuzeigen. Zum Beispiel: <code class="no-highlight">Save &amp;&amp; Exit</code></li>
    <li>Beim Verweisen auf ein vorhandenes Menü oder Menüpunkt ist der Name zwar nicht Groß-/Kleinschreibung-sensitiv, aber jegliche Und-Zeichen müssen enthalten sein. Zum Beispiel: <code class="no-highlight">&amp;Open</code></li>
    <li><span class="ver">[v1.1.23+]:</span> Um einen vorhandenen Menüpunkt anhand seiner Position im Menü zu identifizieren, geben Sie die Position des Menüpunkts an, gefolgt von einem Und-Zeichen. Zum Beispiel wäre <code class="no-highlight">1&amp;</code> der erste Menüpunkt.</li>
</ul>

<h2 id="Win32_Menus">Win32-Menüs</h2>
<p>Beim Einfügen oder Modifizieren von Menüpunkten werden ihre Namen und Eigenschaften vom Menu-Befehl aufgezeichnet, allerdings wird das eigentliche <a href="https://learn.microsoft.com/windows/win32/menurc/menus">Win32-Menü</a> nicht sofort konstruiert. Dies geschieht immer dann, wenn das Menü oder sein übergeordnetes Menü mit einem GUI verbunden wird oder wenn es angezeigt wird, entweder zum ersten Mal oder wenn das Menü seit seiner letzten Anzeige "zerstört" wurde. Folgende Dinge können dazu führen, dass dieses Win32-Menü zerstört wird:</p>
<ul>
  <li>Ein Menü löschen.</li>
  <li>Das Untermenü eines Menüpunktes mit einem Label oder anderen Menü ersetzen.</li>
  <li>Vor <span class="ver">[v1.1.27.03]</span> den <a href="#NoStandard">NoStandard</a>- (wenn die voreingestellten Menüpunkte vorhanden waren) oder <a href="#DeleteAll">DeleteAll</a>-Unterbefehl aufrufen.</li>
</ul>
<p>Beim Zerstören des Win32-Menüs wird eventuell auch das Win32-Menü aller Untermenüs und des übergeordneten Menüs zerstört.</p>
<p>Wenn das Win32-Menü eines Menüs, das die voreingestellten Menüpunkte enthält, neu erstellt wird, werden die voreingestellten Menüpunkte am Anfang des Menüs platziert.</p>
<p>Jegliche Modifikationen am Menü, die direkt mittels Win32-API-Aufrufen durchgeführt werden, gelten nur für die aktuelle "Instanz" des Menüs, und gehen verloren, wenn das Menü zerstört wird.</p>
<p>Jeder Menüpunkt bekommt eine ID zugewiesen, wenn er das erste Mal zum Menü hinzugefügt wird. Skripte können sich nicht auf einen Menüpunkt mit einer bestimmten ID verlassen, aber sie können die ID eines Menüpunktes via GetMenuItemID abrufen, wie im <a href="MenuGetHandle.htm#Examples">MenuGetHandle-Beispiel</a> gezeigt. Diese ID kann nicht in Verbindung mit dem Menu-Befehl verwendet werden, sondern nur in Verbindung mit den <a href="https://learn.microsoft.com/windows/win32/menurc/menus">Win32-Funktionen</a>.</p>

<h2 id="Remarks">Bemerkungen</h2>
<p>Ein typisches Menü sieht wie folgt aus:</p>
<img src="../static/ctrl_menu.png" alt="Menu" style="border: 1px solid silver;" />
<p>Die Namen der Menüs und Menüpunkte können bis zu 260 Zeichen lang sein.</p>
<p>Mit <code>Menu, <i>MenüName</i>, Add</code> (ohne die restlichen Parameter) können Trennlinien in das Menü eingefügt werden. <span class="ver">[v1.1.23+]</span>: Um einzelne Trennlinien gezielt zu löschen, identifizieren Sie sie anhand ihrer Position im Menü. Zum Beispiel <code>Menu, <i>MenüName</i>, Delete, 3&amp;</code>, wenn zwei Menüpunkte vor der Trennlinie sind. Alternativ können Sie <code>Menu, <i>MenüName</i>, DeleteAll</code> verwenden und dann Ihre benutzerdefinierten Menüpunkte neu einfügen.</p>
<p>Neue Menüpunkte werden immer am unteren Ende des Menüs eingefügt. Beim Tray-Menü: Um die eigenen Menüpunkte vor den voreingestellten Menüpunkten zu setzen (nachdem eigene Menüpunkte bereits eingefügt wurden), ist es erforderlich, <code>Menu, Tray, NoStandard</code> und anschließend <code>Menu, Tray, Standard</code> auszuführen.</p>
<p>Kein einziger Menu-Unterbefehl kann mit voreingestellten Menüpunkten wie "Pause Script" und "Suspend Hotkeys" agieren.</p>
<p>Ein Menü, das komplett leer ist - z. B. via <code>Menu, MeinMenü, DeleteAll</code> - kann nicht angezeigt werden. Wenn das Tray-Menü leer ist, wird das Anklicken des Tray-Symbols keine Wirkung haben (in solchen Fällen ist es üblicherweise besser, <a href="_NoTrayIcon.htm">#NoTrayIcon</a> zu verwenden).</p>
<p>Wenn die Subroutine des Menüpunkts bereits läuft und der Benutzer diesen Menüpunkt wieder auswählt, wird ein neuer <a href="../misc/Threads.htm">Thread</a> erstellt, um die gleiche Subroutine nochmals auszuführen, und der vorherige Thread unterbrochen. Um solche Ereignisse stattdessen zu puffern und später auszulösen, können Sie <a href="Critical.htm">Critical</a> in der ersten Zeile der Subroutine nutzen (allerdings werden dadurch auch andere Threads, wie z. B. das Drücken eines Hotkeys, gepuffert/hinausgezögert).</p>
<p>Jedes via Menüpunkt gestartete Subroutine verwendet vorerst die Standardwerte von Einstellungen wie <a href="SendMode.htm">SendMode</a>. Diese Standardwerte können im <a href="../Scripts.htm#auto">automatischen Ausführungsbereich</a> geändert werden.</p>
<p>Die internen Variablen <strong>A_ThisMenuItem</strong> und <strong>A_ThisMenuItemPos</strong> enthalten den Namen und die Position des benutzerdefinierten Menüpunkts, der zuletzt vom Benutzer ausgewählt wurde (sie sind leer, wenn kein Menüpunkt ausgewählt wurde). Außerdem ist <strong>A_ThisMenu</strong> der Name des Menüs, in dem <strong>A_ThisMenuItem</strong> ausgewählt wurde. Diese Variablen sind nützlich, wenn man ein Menü erstellt, dessen Inhalte nicht immer gleich sind. In so einem Fall empfiehlt es sich, alle Menüpunkte auf das gleiche Label verweisen und dieses Label auf die oben genannten Variablen zurückgreifen zu lassen, um die zu ergreifenden Maßnahmen zu bestimmen.</p>
<p>Um ein Skript ohne Hotkey und <a href="Gui.htm">GUI</a> dauerhaft laufen zu lassen -- z. B. ein Skript, das ausschließlich benutzerdefinierte Menüs oder Menüpunkte enthält -- ist es erforderlich, <a href="_Persistent.htm">#Persistent</a> zu verwenden.</p>

<h2 id="Related">Siehe auch</h2>
<p><a href="Gui.htm">GUI</a>, <a href="../misc/Threads.htm">Threads</a>, <a href="Thread.htm">Thread</a>, <a href="Critical.htm">Critical</a>, <a href="_NoTrayIcon.htm">#NoTrayIcon</a>, <a href="Gosub.htm">Gosub</a>, <a href="Return.htm">Return</a>, <a href="SetTimer.htm">SetTimer</a>, <a href="_Persistent.htm">#Persistent</a></p>

<h2 id="Examples">Beispiele</h2>

<div class="ex" id="ExBasic">
<p><a class="ex_number" href="#ExBasic"></a> Fügt einen neuen Menüpunkt am unteren Ende des Tray-Symbol-Menüs hinzu.</p>
<pre>#Persistent  <em>; Hält das Skript aufrecht, bis der Benutzer es beendet.</em>
Menu, Tray, Add  <em>; Erstellt eine Trennlinie.</em>
Menu, Tray, Add, Element1, MenuHandler  <em>; Erstellt einen neuen Menüpunkt.</em>
return

MenuHandler:
MsgBox Sie haben %A_ThisMenuItem% im Menü %A_ThisMenu% ausgewählt.
return</pre>
</div>

<div class="ex" id="ExPopup">
<p><a class="ex_number" href="#ExPopup"></a> Erstellt ein aufklappbares Menü, das angezeigt wird, wenn der Benutzer einen Hotkey drückt.</p>
<pre><em>; Erstellt ein aufklappbares Menü durch Hinzufügen von Menüpunkten.</em>
Menu, MeinMenü, Add, Element1, MenuHandler
Menu, MeinMenü, Add, Element2, MenuHandler
Menu, MeinMenü, Add  <em>; Fügt eine Trennlinie ein.</em>

<em>; Erstellt ein weiteres Menü, das als Untermenü für das obige Menü dienen soll.</em>
Menu, Submenu1, Add, Element1, MenuHandler
Menu, Submenu1, Add, Element2, MenuHandler

<em>; Erstellt ein Untermenü im ersten Menü (mit einem nach rechts gerichteten Pfeil). Sobald der Benutzer dieses Untermenü auswählt, wird das zweite Menü angezeigt.</em>
Menu, MeinMenü, Add, Mein Untermenü, :Submenu1

Menu, MeinMenü, Add  <em>; Fügt eine Trennlinie unterhalb des Untermenüs ein.</em>
Menu, MeinMenü, Add, Element3, MenuHandler  <em>; Fügt einen weiteren Menüpunkt unterhalb des Untermenüs ein.</em>
return  <em>; Ende des automatischen Ausführungsbereichs.</em>

MenuHandler:
MsgBox Sie haben %A_ThisMenuItem% im Menü %A_ThisMenu% ausgewählt.
return

#z::Menu, MeinMenü, Show  <em>; Drücken Sie WIN+Z, um das Menü anzuzeigen.</em></pre>
</div>

<div class="ex" id="ExTray">
<p><a class="ex_number" href="#ExTray"></a> Demonstriert einige der verschiedenen Menu-Unterbefehle.</p>
<pre>#Persistent
#SingleInstance
Menu, Tray, Add <em>; Trennlinie</em>
Menu, Tray, Add, TestToggle&amp;Check
Menu, Tray, Add, TestToggleEnable
Menu, Tray, Add, TestDefault
Menu, Tray, Add, TestStandard
Menu, Tray, Add, TestDelete
Menu, Tray, Add, TestDeleteAll
Menu, Tray, Add, TestRename
Menu, Tray, Add, Test
return

<em>;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</em>

TestToggle&amp;Check:
Menu, Tray, ToggleCheck, TestToggle&amp;Check
Menu, Tray, Enable, TestToggleEnable <em>; Aktiviert auch den nächsten Test, da es die Deaktivierung von sich selbst nicht rückgängig machen kann.</em>
Menu, Tray, Add, TestDelete <em>; Das gleiche wie oben.</em>
return

TestToggleEnable:
Menu, Tray, ToggleEnable, TestToggleEnable
return

TestDefault:
if (Default = "TestDefault")
{
    Menu, Tray, NoDefault
    Default := ""
}
else
{
    Menu, Tray, Default, TestDefault
    Default := "TestDefault"
}
return

TestStandard:
if (Standard != false)
{
    Menu, Tray, NoStandard
    Standard := false
}
else
{
    Menu, Tray, Standard
    Standard := true
}
return

TestDelete:
Menu, Tray, Delete, TestDelete
return

TestDeleteAll:
Menu, Tray, DeleteAll
return

TestRename:
if (NeuerName != "unbenannt")
{
    AlterName := "TestRename"
    NeuerName := "unbenannt"
}
else
{
    AlterName := "unbenannt"
    NeuerName := "TestRename"
}
Menu, Tray, Rename, %AlterName%, %NeuerName%
return

Test:
MsgBox Sie haben %A_ThisMenuItem% im Menü %A_ThisMenu% ausgewählt.
return</pre>
</div>

<div class="ex" id="ExIcon">
<p><a class="ex_number" href="#ExIcon"></a> Demonstriert, wie man Symbole zu Menüpunkten hinzufügt.</p>
<pre>Menu, Dateimenü, Add, Skript-Symbol, MenuHandler
Menu, Dateimenü, Add, Suspend-Symbol, MenuHandler
Menu, Dateimenü, Add, Pause-Symbol, MenuHandler
Menu, Dateimenü, Icon, Skript-Symbol, %A_AhkPath%, 2 <em>; Verwendet die zweite Symbolgruppe aus der Datei</em>
Menu, Dateimenü, Icon, Suspend-Symbol, %A_AhkPath%, -206 <em>; Symbol mit dem Ressourcenidentifikator 206</em>
Menu, Dateimenü, Icon, Pause-Symbol, %A_AhkPath%, -207 <em>; Symbol mit dem Ressourcenidentifikator 207</em>
Menu, MeineMenüleiste, Add, &amp;Datei, :Dateimenü
Gui, Menu, MeineMenüleiste
Gui, Add, Button, gExit, Beendet dieses Beispiel
Gui, Show
return

MenuHandler:
return

Exit:
ExitApp
</pre>
</div>

<div class="ex" id="ExBoundFunc">
  <p><a class="ex_number" href="#ExBoundFunc"></a> Demonstriert, wie man mit <a href="../misc/Functor.htm#BoundFunc">BoundFunc-Objekten</a> zusätzliche Parameter übergeben kann, wenn man eine Funktion anstelle einer Subroutine verwendet.</p>
  <pre><em>; Parameter an die Funktion binden und BoundFunc-Objekte zurückgeben:</em>
BoundGivePar := Func("GivePar").Bind("First", "Test one")
BoundGivePar2 := Func("GivePar").Bind("Second", "Test two")

<em>; Das Menü erstellen und anzeigen:</em>
Menu MeinMenü, Add, Parameter übergeben, % BoundGivePar
Menu MeinMenü, Add, Parameter2 übergeben, % BoundGivePar2
Menu MeinMenü, Show

<em>; Definition der benutzerdefinierten Funktion GivePar:</em>
GivePar(a, b, PunktName, PunktPos, MenüName)
{
    MsgBox % "a:`t`t" a "`n"
           . "b:`t`t" b "`n"
           . "PunktName:`t" PunktName "`n"
           . "PunktPos:`t`t" PunktPos "`n"
           . "MenüName:`t" MenüName
}</pre>
</div>
</body>
</html>
